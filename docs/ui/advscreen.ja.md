# AdvScreenシステム

AdvScreenは、ビジュアルノベルでダイアログ、選択肢、その他のインタラクティブな要素を表示するためのArgodeの強力で柔軟なシステムです。これは主要なメッセージウィンドウおよびUIコンテナとして機能し、豊富なカスタマイズとRGDスクリプトとのシームレスな統合のために設計されています。

## コアコンポーネント

AdvScreenは`UIManager`によって管理され、そのライフサイクル、コンテンツ表示、およびArgodeSystemとの相互作用を処理します。ゲームの美学に合わせて外観と動作を変更できるように、高度にカスタマイズ可能に設計されています。

## カスタマイズ

AdvScreenの外観は、Godotのテーマシステムを通じて広範囲にカスタマイズできます。カスタムスタイル、フォント、色を定義して、ゲーム独自のルックアンドフィールを作成できます。

外観のカスタマイズの詳細については、[テーマガイド](themes.ja.md)を参照してください。

完全にカスタムのUI要素を作成したり、複雑なGodotシーンを統合したりする必要がある場合は、[カスタムUIガイド](custom.ja.md)を参照してください。

## RGDスクリプトとの相互作用

AdvScreenは、RGDスクリプトコマンドに基づいてダイアログを自動的に表示し、選択肢を提示します。

### ダイアログの表示

スクリプトがダイアログ行に遭遇すると、AdvScreenはキャラクター名（指定されている場合）とそのダイアログテキストを表示します。

```rgd
character alice "アリス"

alice "こんにちは、プレイヤー！"
narrator "これはナレーションです。"
```

### 選択肢の提示

RGDスクリプトの`menu`コマンドは、AdvScreenがプレイヤーに選択肢のリストを表示するようにトリガーします。スクリプトは選択が行われるまで一時停止します。

```rgd
menu:
    "オプションA":
        narrator "あなたはAを選びました。"
    "オプションB":
        narrator "あなたはBを選びました。"
```

### `ui`コマンドとの統合

`ui`コマンドは、AdvScreen自体を表示または非表示にしたり、その上に他のカスタムUIシーンを表示したりするために使用できます。

```rgd
# AdvScreen（メッセージウィンドウ）を非表示にする
ui hide advscreen

# AdvScreenを表示する
ui show advscreen

# AdvScreenの上にカスタムメニューを表示する
ui call "res://ui/my_custom_menu.tscn"
```

## 主要機能

-   **テキストアニメーション:** 動的なダイアログ表示のための様々なテキストアニメーション効果をサポートします。
-   **名前ボックス:** 話しているキャラクターの名前を表示するための専用領域。
-   **ダイアログ履歴:** プレイヤーは過去のダイアログ行をレビューできます。
-   **オートフォワード:** 設定された遅延後にダイアログを自動的に進めます。
-   **クリックで続行:** ダイアログを進めるためにプレイヤーの入力が必要です。

---

AdvScreenは、Argodeビジュアルノベルで魅力的で視覚的に魅力的なダイアログ体験を作成するための強力なツールです。
